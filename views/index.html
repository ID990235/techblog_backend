<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link type="text/css" rel="stylesheet" href="/assets/layui/css/layui.css">
  <style>
    .tac {
      text-align: center !important;
    }

    .text-box-rules {
      display: -webkit-box;
      width: 292px;
      margin: auto;
      text-align: left;
      overflow: hidden;
      word-break: break-all;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
  </style>
</head>

<body>
  <div class="layui-layout layui-layout-admin">
    <div class="layui-header">
      <div class="layui-logo layui-hide-xs layui-bg-black">小明博客</div>
      <!-- 头部区域（可配合layui 已有的水平导航） -->
      <ul class="layui-nav layui-layout-left">
        <!-- 移动端显示 -->
        <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
          <i class="layui-icon layui-icon-spread-left"></i>
        </li>

        <li class="layui-nav-item layui-hide-xs"><a href="">nav 1</a></li>
        <li class="layui-nav-item layui-hide-xs"><a href="">nav 2</a></li>
        <li class="layui-nav-item layui-hide-xs"><a href="">nav 3</a></li>
        <li class="layui-nav-item">
          <a href="javascript:;">nav groups</a>
          <dl class="layui-nav-child">
            <dd><a href="">menu 11</a></dd>
            <dd><a href="">menu 22</a></dd>
            <dd><a href="">menu 33</a></dd>
          </dl>
        </li>
      </ul>
      <ul class="layui-nav layui-layout-right">
        <li class="layui-nav-item layui-hide layui-show-md-inline-block">
          <a href="javascript:;">
            <img src="/assets/images/微信图片_20220404045549.jpg" class="layui-nav-img">
            小明
          </a>
          <dl class="layui-nav-child">
            <dd><a href="">个人信息</a></dd>
            <dd><a href="">账户设置</a></dd>
            <dd><a href="/loginout" onclick="return confirm('确认退出？')">退出</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item" lay-header-event="menuRight" lay-unselect>
          <a href="javascript:;">
            <i class="layui-icon layui-icon-more-vertical"></i>
          </a>
        </li>
      </ul>
    </div>

    <div class="layui-side layui-bg-black">
      <div class="layui-side-scroll">
        <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
        <ul class="layui-nav layui-nav-tree" lay-filter="test">
          <li class="layui-nav-item layui-nav-itemed">
            <a class="" href="javascript:;">menu group 1</a>
            <dl class="layui-nav-child">
              <dd><a href="javascript:;">menu 1</a></dd>
              <dd><a href="javascript:;">menu 2</a></dd>
              <dd><a href="javascript:;">menu 3</a></dd>
            </dl>
          </li>
          <li class="layui-nav-item">
            <a href="javascript:;">menu group 2</a>
            <dl class="layui-nav-child">
              <dd><a href="javascript:;">list 1</a></dd>
              <dd><a href="javascript:;">list 2</a></dd>
            </dl>
          </li>
        </ul>
      </div>
    </div>

    <div class="layui-body">
      <!-- 内容主体区域 -->
      <div style="padding: 15px;">
        <div>
          
          <a type="button" class="layui-btn" style="float: right;" id="add" href="/addPage.html">添加</a>
          <div class="layui-form" style="text-align: center;">
            <table class="layui-table">
              <colgroup>
                <col width="90">
                <col width="120">
                <col width="90">
                <col width="250">
                <col width="120">
                <col width="90">
                <col width="150">
              </colgroup>
              <thead>
                <tr>
                  <th class="tac">序号</th>
                  <th class="tac">汽车名称</th>
                  <th class="tac">汽车颜色</th>
                  <th class="tac">汽车介绍</th>
                  <th class="tac">汽车图</th>
                  <th class="tac">状态</th>
                  <th class="tac">操作</th>
                </tr>
              </thead>
              <tbody id="cars_list">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="layui-footer">
      <!-- 底部固定区域 -->
      底部固定区域
    </div>
  </div>
</body>
<script src="/assets/layui/layui.js"></script>
<script>
  layui.use(['element', 'layer', 'util'], function () {
    var element = layui.element
      , layer = layui.layer
      , util = layui.util
      , $ = layui.$;

    //头部事件
    util.event('lay-header-event', {
      //左侧菜单事件
      menuLeft: function (othis) {
        layer.msg('展开左侧菜单的操作', { icon: 1 });
      }
      , menuRight: function () {
        layer.open({
          type: 1
          , content: '<div style="padding: 15px;">处理右侧面板的操作</div>'
          , area: ['260px', '100%']
          , offset: 'rt' //右上角
          , anim: 5
          , shadeClose: true
        });
      }
    });

  });
  // layui.use(['layer',], function () {
  //   var layer = layui.layer, $ = layui.jquery;
  //   var index = layer.load(3, {
  //     shade: [0.2, '#ccc']
  //   });
  //   // 默认要发送一个get请求，获取所有的商品的数据
  //   async function list() {
  //     try {
  //       let res = await $.ajax({
  //         type: "get",
  //         url: "http://localhost:3200/getcar",
  //       })
  //       let trs = '';
  //       res.forEach((item, index) => {
  //         let { id, name, intro, pic, color, is_sale, sale_text } = item;
  //         const sale_text_map = {
  //           "0": `<span class="layui-badge">${sale_text}</span>`,
  //           "1": `<span class="layui-badge layui-bg-green">${sale_text}</span>`
  //         }
  //         trs += `
  //           <tr id="tr">
  //             <td>${index + 1}</td>
  //             <td>${name}</td>
  //             <td>${color}</td>
  //             <td><span class="text-box-rules">${intro}</span></td>
  //             <td><img src="${pic}"></td>
  //             <td>${sale_text_map[is_sale]}</td>
  //             <td>
  //               <div class="layui-btn-group">
  //                   <button type="button" class="layui-btn layui-btn-sm" id="edit" data-id="${id}"><i class="layui-icon layui-icon-edit"></i> 编辑</button>
  //                   <button type="button" class="layui-btn layui-btn-sm layui-btn-danger" id="delete" data-id="${id}"> <i class="layui-icon layui-icon-delete"></i> 删除</button>
  //               </div>
  //             </td>
  //           </tr>
  //         `;
  //       });

  //       // 给表格赋值
  //       $("#cars_list").html(trs);
  //     } catch (err) {
  //       console.log(err);
  //     }
  //   }

  //   list();

  //   // 编辑
  //   $(document).on('click', '#edit', function () {
  //     let id = $(this).attr("data-id");
  //     location.href = `/editPage.html?id=${id}`
  //   })

  //   // 删除
  //   $(document).on('click', '#delete', function () {
  //     let id = $(this).attr("data-id");
  //     let res = '';
  //     layer.confirm('确定删除吗？', {
  //       btn: ['确定', '取消'] //按钮
  //     }, async function () {
  //       try {
  //         res = await $.ajax({
  //           type: "get",
  //           url: `http://localhost:3200/deletecar/${id}`,
  //         })
  //       } catch (err) {
  //         console.log(err);
  //       }
  //       res.err = 20000 ? layer.msg('删除成功', { icon: 1 }) : layer.msg('删除失败', { icon: 2 });
  //       setTimeout(() => {
  //         list();
  //       }, 800)
  //     });
  //   })

  //   window.onload = function () {
  //     setTimeout(() => {
  //       // 关闭loading提示
  //       layer.close(index)
  //     }, 800)
  //   }
  // });

</script>

</html>